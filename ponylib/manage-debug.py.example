#!/usr/bin/env python

__license__         = "GPL3"
__copyright__       = "Copyright 2011 maizy.ru"
__author__          = "Nikita Kovaliov <nikita@maizy.ru>"

__version__         = "0.1"
__doc__             = ""


def inject_debuger():
    import os.path
    import sys

    debuger_egg = os.path.realpath(os.path.join(
        os.path.dirname(__file__),
        '..',
        'libs',
        'pycharm-debug.egg'
    ))

    if debuger_egg not in sys.path:
        sys.path.append(debuger_egg)

    from pydev import pydevd
    pydevd.settrace('some-remote-server-or-ip', port=9999,
                    stdoutToServer=True, stderrToServer=Tru, suspend=False)


inject_debuger()

from django.core.management import execute_manager

try:
    import settings
except ImportError:
    import sys
    sys.stderr.write("Error: Can't find the file 'settings.py' in the directory containing %r. It appears you've customized things.\nYou'll have to run django-admin.py, passing it your settings module.\n(If the file settings.py does indeed exist, it's causing an ImportError somehow.)\n" % __file__)
    sys.exit(1)

if __name__ == "__main__":
    execute_manager(settings)
